{% extends "SalitaPacienteBundle::base.html.twig" %}

{% block contenido %}
   {# ATENCION: si no lo seteo dentro del block contenido, no funciona. Es decir, la funciones de la forma
      isAuthenticatedXXXX no se comportan como deberian.
      NO SE POR QUE PASA ESO! NO DEBERIA...
    #}

{#   {% set usuario = app.session.get('usuario') %}
   {% if not(app.session.get('paciente') is empty) %}
     {% set paciente = app.session.get('paciente') %}
   {% endif %} #}

   {% set rolSeleccionado = app.session.get('rolSeleccionado') %}
   {% set codigoRolSeleccionadoQuotes = rolSeleccionado.getCodigoWithQuotes() %}
   {% set adminexpression = 'user and user.isAuthenticatedAdministrador(' ~ codigoRolSeleccionadoQuotes ~ ')' %}
   {% set medicoexpression = 'user and user.isAuthenticatedMedico(' ~ codigoRolSeleccionadoQuotes ~ ')' %}
   {% set secretariaexpression = 'user and user.isAuthenticatedSecretaria(' ~ codigoRolSeleccionadoQuotes ~ ')' %}
   {% if not(app.session.get('especialidad') is empty) %}
     {% set especialidad = app.session.get('especialidad') %}
     {% set codigoEspecialidad = especialidad.getCodigo() %}
   {% else %}
     {% set codigoEspecialidad = 'NO_TIENE' %}
   {% endif %}

  {{ include('SalitaPacienteBundle:Menu:seccionDatosFiliatorios.html.twig') }}

  {{ include('SalitaPacienteBundle:Menu:seccionHistoriaClinica.html.twig', 
     { secretariaexpression: secretariaexpression }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionAntecedentes.html.twig', 
     { adminexpression: adminexpression, medicoexpression: medicoexpression, 
       secretariaexpression: secretariaexpression, codigoEspecialidad: codigoEspecialidad }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionTurnos.html.twig', 
     { medicoexpression: medicoexpression }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionEstudios.html.twig', 
     { adminexpression: adminexpression, medicoexpression: medicoexpression, 
       codigoEspecialidad: codigoEspecialidad }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionConsultas.html.twig', 
     { adminexpression: adminexpression, medicoexpression: medicoexpression, 
       codigoEspecialidad: codigoEspecialidad }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionVacunacion.html.twig', 
     { adminexpression: adminexpression, medicoexpression: medicoexpression, 
       secretariaexpression: secretariaexpression, codigoEspecialidad: codigoEspecialidad }) }}

  {{ include('SalitaPacienteBundle:Menu:seccionPlanProcreacionResponsable.html.twig', 
     { adminexpression: adminexpression, medicoexpression: medicoexpression, 
       codigoEspecialidad: codigoEspecialidad }) }}

{% endblock %}